<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Live Free or Dichotomize</title>
    <link>/index.xml</link>
    <description>Recent content on Live Free or Dichotomize</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 24 Jan 2017 10:54:24 +0200</lastBuildDate>
    <atom:link href="/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Custom JavaScript Visualizations in RMarkdown</title>
      <link>/2017/01/24/custom-javascript-visualizations-in-rmarkdown/</link>
      <pubDate>Tue, 24 Jan 2017 10:54:24 +0200</pubDate>
      
      <guid>/2017/01/24/custom-javascript-visualizations-in-rmarkdown/</guid>
      <description>&lt;!-- BLOGDOWN-BODY-BEFORE

/BLOGDOWN-BODY-BEFORE --&gt;

&lt;p&gt;I happened to stumble upon the &lt;a href=&#34;https://www.rstudio.com/products/rstudio/download/preview/&#34;&gt;preview release page&lt;/a&gt; for RStudio recently and noticed something that made me exorbitantly happy.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;A preview release of RStudio v1.0.136 is now available for testing and feedback. This release includes… Support for JavaScript and CSS chunks in R Notebooks…&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;“Support for JavaScript and CSS chunks in R Notebooks”&lt;/em&gt;! As someone who loves using javascript for plotting (and secretly for manipulating) data this is massively exciting. Previously my workflow for generating an interactive graphic would be something like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Download data&lt;/li&gt;
&lt;li&gt;Clean data and do preliminary visualization in R&lt;/li&gt;
&lt;li&gt;Export what I liked to a csv file and make a new directory with a set of &lt;code&gt;.html, .js, .css&lt;/code&gt; files in it.&lt;/li&gt;
&lt;li&gt;Load data into javascript/d3.js in the new javascript file.&lt;/li&gt;
&lt;li&gt;Plot.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;This workflow has served me very well, I did it probably 20 times a day when working at the New York Times and I am very fast with it. If you want to just make a stand alone visualization it’s fantastic, however, as a biostatistician who works with a lot of other biostatisticians, people tend to want to see where the data comes from.&lt;/p&gt;
&lt;p&gt;With Javascript chunks in &lt;code&gt;.Rmd&lt;/code&gt; files you can explicitly show the code for data gathering/cleaning etc. in a language that your collaborators can understand, along with making custom d3 charts with that data. All without ever leaving RStudio. I will show you my quick and dirty solution to doing so.&lt;/p&gt;
&lt;div id=&#34;getting-data-into-javascript&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Getting data into Javascript&lt;/h2&gt;
&lt;p&gt;Instead of generating a csv file in R and then loading that into javascript we will instead send the data directly through the html to javascript. (&lt;em&gt;Note:&lt;/em&gt; This wont work well with super large data).&lt;/p&gt;
&lt;p&gt;Inspired by &lt;a href=&#34;https://medium.com/@becausealice2/getting-r-and-d3-js-to-play-nicely-in-r-markdown-270e302a52d3#.772g93eb3&#34;&gt;this&lt;/a&gt; medium post I wrote a little function that takes a dataframe and sends it to the html document in the &lt;code&gt;.json&lt;/code&gt; format.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;library(tidyverse)
library(jsonlite)

send_df_to_js &amp;lt;- function(df){
  cat(
    paste(
    &amp;#39;&amp;lt;script&amp;gt;
      var data = &amp;#39;,toJSON(df),&amp;#39;;
    &amp;lt;/script&amp;gt;&amp;#39;
    , sep=&amp;quot;&amp;quot;)
  )
}&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;To illustrate how it works we will generate some random data into a dataframe.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#Generate some random x and y data to plot
n &amp;lt;- 300
random_data &amp;lt;- data_frame(x = runif(n)*10) %&amp;gt;% 
  mutate(y = 0.5*x^3 - 1.3*x^2 + rnorm(n, mean = 0, sd = 80),
         group = paste(&amp;quot;group&amp;quot;, sample(c(1,2,3), n, replace = T)))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Now we send a snippit of the dataframe into the function to see the output…&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;random_data %&amp;gt;% 
  head() %&amp;gt;% 
  send_df_to_js()&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## &amp;lt;script&amp;gt;
##       var data = [{&amp;quot;x&amp;quot;:8.6669,&amp;quot;y&amp;quot;:394.0166,&amp;quot;group&amp;quot;:&amp;quot;group 1&amp;quot;},{&amp;quot;x&amp;quot;:2.7642,&amp;quot;y&amp;quot;:-111.1789,&amp;quot;group&amp;quot;:&amp;quot;group 2&amp;quot;},{&amp;quot;x&amp;quot;:2.4007,&amp;quot;y&amp;quot;:-68.8392,&amp;quot;group&amp;quot;:&amp;quot;group 1&amp;quot;},{&amp;quot;x&amp;quot;:5.3425,&amp;quot;y&amp;quot;:68.5745,&amp;quot;group&amp;quot;:&amp;quot;group 2&amp;quot;},{&amp;quot;x&amp;quot;:8.4944,&amp;quot;y&amp;quot;:300.47,&amp;quot;group&amp;quot;:&amp;quot;group 3&amp;quot;},{&amp;quot;x&amp;quot;:0.7149,&amp;quot;y&amp;quot;:-22.7415,&amp;quot;group&amp;quot;:&amp;quot;group 2&amp;quot;}];
##     &amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Beautiful, we have our data, in &lt;code&gt;json&lt;/code&gt; format, wrapped in a script tag. Now we can send the whole dataframe through. This time I am using the &lt;code&gt;results = &amp;quot;asis&amp;quot;&lt;/code&gt; option in the code chunk (&lt;code&gt;{r, results = &amp;quot;asis&amp;quot;}&lt;/code&gt;), to write the results directly to the html document and not to the output like we did above.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#Initiate data transfer protocol one
send_df_to_js(random_data)&lt;/code&gt;&lt;/pre&gt;
&lt;script&gt;
      var data = [{&#34;x&#34;:8.6669,&#34;y&#34;:394.0166,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:2.7642,&#34;y&#34;:-111.1789,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.4007,&#34;y&#34;:-68.8392,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.3425,&#34;y&#34;:68.5745,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:8.4944,&#34;y&#34;:300.47,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:0.7149,&#34;y&#34;:-22.7415,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:4.6545,&#34;y&#34;:33.5914,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:9.9172,&#34;y&#34;:320.4479,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.1358,&#34;y&#34;:110.1833,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:0.8852,&#34;y&#34;:38.3114,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:2.705,&#34;y&#34;:-26.447,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:5.0194,&#34;y&#34;:-8.1024,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:1.722,&#34;y&#34;:-93.6821,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.4534,&#34;y&#34;:-41.4203,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.1238,&#34;y&#34;:184.0845,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.1566,&#34;y&#34;:75.0244,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:6.822,&#34;y&#34;:64.6556,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:6.4651,&#34;y&#34;:-12.5994,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:0.9249,&#34;y&#34;:-36.3125,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:9.2083,&#34;y&#34;:176.4866,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:6.4147,&#34;y&#34;:-5.7793,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:3.0818,&#34;y&#34;:32.763,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:3.3222,&#34;y&#34;:80.5913,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:0.5928,&#34;y&#34;:111.5346,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:0.0187,&#34;y&#34;:-34.8616,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:2.0205,&#34;y&#34;:-120.9726,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:1.995,&#34;y&#34;:27.5269,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:0.0137,&#34;y&#34;:68.1951,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:7.8127,&#34;y&#34;:204.3198,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:3.1533,&#34;y&#34;:12.6691,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:7.7694,&#34;y&#34;:136.4848,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:7.9137,&#34;y&#34;:133.1774,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.4002,&#34;y&#34;:-119.5369,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:5.9987,&#34;y&#34;:44.2454,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:7.0145,&#34;y&#34;:86.2724,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:7.5099,&#34;y&#34;:107.5436,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:5.1492,&#34;y&#34;:36.5269,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:8.0318,&#34;y&#34;:232.1102,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:9.8197,&#34;y&#34;:374.196,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:0.1858,&#34;y&#34;:-96.3216,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:1.9816,&#34;y&#34;:120.1914,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:0.4222,&#34;y&#34;:-60.8416,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:9.9647,&#34;y&#34;:296.7632,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:9.6837,&#34;y&#34;:280.0129,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.872,&#34;y&#34;:60.9881,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:5.6866,&#34;y&#34;:49.6855,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:8.1688,&#34;y&#34;:83.9556,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:3.3974,&#34;y&#34;:4.6751,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.6907,&#34;y&#34;:-45.5316,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:8.9269,&#34;y&#34;:182.6178,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:9.846,&#34;y&#34;:313.3796,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:4.3572,&#34;y&#34;:37.8214,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.2098,&#34;y&#34;:-140.5061,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.5466,&#34;y&#34;:-78.8236,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:9.2014,&#34;y&#34;:397.8535,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:5.3238,&#34;y&#34;:-110.247,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:1.1783,&#34;y&#34;:-93.6202,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.7154,&#34;y&#34;:154.9426,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:3.5184,&#34;y&#34;:43.2236,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.3781,&#34;y&#34;:186.5253,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.6847,&#34;y&#34;:51.6164,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:9.6853,&#34;y&#34;:356.4135,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:5.4426,&#34;y&#34;:56.6247,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:5.8041,&#34;y&#34;:-43.0737,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:8.1614,&#34;y&#34;:136.6233,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:7.0113,&#34;y&#34;:105.2294,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:0.1521,&#34;y&#34;:60.7257,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:6.8317,&#34;y&#34;:21.3005,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:8.5937,&#34;y&#34;:179.1683,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.8538,&#34;y&#34;:-67.0308,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:3.6954,&#34;y&#34;:50.1548,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:7.7401,&#34;y&#34;:213.9911,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:4.9521,&#34;y&#34;:-29.9316,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:0.5739,&#34;y&#34;:-79.0018,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:8.3911,&#34;y&#34;:321.0075,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:4.4265,&#34;y&#34;:42.2303,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:3.124,&#34;y&#34;:44.2494,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.4326,&#34;y&#34;:134.9388,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:5.2694,&#34;y&#34;:-59.4032,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:9.6509,&#34;y&#34;:316.8341,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:1.7385,&#34;y&#34;:-62.0095,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.8362,&#34;y&#34;:41.9912,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.9517,&#34;y&#34;:-55.2459,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:0.4063,&#34;y&#34;:-96.7013,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:6.9448,&#34;y&#34;:166.433,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.8126,&#34;y&#34;:145.8128,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:6.9042,&#34;y&#34;:-78.5334,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.7886,&#34;y&#34;:-74.2198,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:9.9801,&#34;y&#34;:324.3074,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:2.9227,&#34;y&#34;:62.8468,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:5.3812,&#34;y&#34;:58.8299,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:5.3291,&#34;y&#34;:-34.3829,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.5418,&#34;y&#34;:-123.7495,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.5868,&#34;y&#34;:18.9224,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:1.2051,&#34;y&#34;:-82.654,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:5.2395,&#34;y&#34;:96.7398,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.9383,&#34;y&#34;:-55.3149,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:3.6129,&#34;y&#34;:-89.1767,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:9.5536,&#34;y&#34;:227.9194,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.7217,&#34;y&#34;:43.0789,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.0321,&#34;y&#34;:-104.2499,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.7781,&#34;y&#34;:-17.8537,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.5609,&#34;y&#34;:20.3819,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:6.7492,&#34;y&#34;:31.4729,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:5.6204,&#34;y&#34;:102.1011,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:8.0712,&#34;y&#34;:280.3489,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:1.3318,&#34;y&#34;:99.9381,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:6.274,&#34;y&#34;:153.55,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:4.184,&#34;y&#34;:74.6352,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:8.1248,&#34;y&#34;:233.6123,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:9.6098,&#34;y&#34;:380.0373,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.841,&#34;y&#34;:-40.6462,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.6761,&#34;y&#34;:287.5343,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:8.3592,&#34;y&#34;:313.4565,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:5.904,&#34;y&#34;:106.9484,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.9538,&#34;y&#34;:-35.485,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.6834,&#34;y&#34;:114.0946,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:8.9273,&#34;y&#34;:310.0699,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:7.2897,&#34;y&#34;:176.5631,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:7.5743,&#34;y&#34;:251.432,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.7874,&#34;y&#34;:47.8984,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.556,&#34;y&#34;:-123.6796,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:2.1096,&#34;y&#34;:193.7865,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.3435,&#34;y&#34;:28.9171,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:9.2286,&#34;y&#34;:352.436,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:8.6444,&#34;y&#34;:120.7432,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:8.3872,&#34;y&#34;:285.9595,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:9.7326,&#34;y&#34;:262.1825,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.5489,&#34;y&#34;:-74.6271,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.7076,&#34;y&#34;:158.2937,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.4954,&#34;y&#34;:47.3483,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:7.606,&#34;y&#34;:70.483,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:9.6363,&#34;y&#34;:281.8685,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:8.7591,&#34;y&#34;:163.4709,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.3149,&#34;y&#34;:-17.4883,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.0157,&#34;y&#34;:20.3799,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:4.5013,&#34;y&#34;:95.2598,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:2.7656,&#34;y&#34;:-89.8176,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:1.8501,&#34;y&#34;:-65.1483,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:6.9589,&#34;y&#34;:152.5921,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.3121,&#34;y&#34;:112.5524,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.6151,&#34;y&#34;:-22.1231,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.0298,&#34;y&#34;:139.7183,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.9851,&#34;y&#34;:-51.9026,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.4608,&#34;y&#34;:200.4613,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:5.9698,&#34;y&#34;:54.0193,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:8.1352,&#34;y&#34;:214.1755,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.4673,&#34;y&#34;:203.4615,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:1.577,&#34;y&#34;:66.1833,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:4.1229,&#34;y&#34;:-59.0888,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:5.9893,&#34;y&#34;:-121.4593,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.8159,&#34;y&#34;:65.7826,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:6.8174,&#34;y&#34;:76.9456,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:5.537,&#34;y&#34;:1.6929,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:4.2254,&#34;y&#34;:88.8805,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:7.2216,&#34;y&#34;:86.8964,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:0.6568,&#34;y&#34;:-6.2227,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:9.5417,&#34;y&#34;:194.1549,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:7.7685,&#34;y&#34;:103.2942,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.5509,&#34;y&#34;:189.8379,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:3.562,&#34;y&#34;:125.0726,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:6.6361,&#34;y&#34;:138.4721,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:2.5676,&#34;y&#34;:-67.7091,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.8023,&#34;y&#34;:-38.1838,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:0.5531,&#34;y&#34;:-64.0742,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:9.6064,&#34;y&#34;:232.8517,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.1253,&#34;y&#34;:-83.1021,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:3.3656,&#34;y&#34;:29.9366,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.3929,&#34;y&#34;:-99.0663,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:6.6923,&#34;y&#34;:55.2824,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:6.6548,&#34;y&#34;:32.1562,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:4.9136,&#34;y&#34;:21.3609,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:8.7498,&#34;y&#34;:291.3863,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:9.602,&#34;y&#34;:444.3942,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:7.8983,&#34;y&#34;:143.8308,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:4.4133,&#34;y&#34;:30.1797,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.5317,&#34;y&#34;:-18.866,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.8841,&#34;y&#34;:-80.3514,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.2954,&#34;y&#34;:-21.5749,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:8.4778,&#34;y&#34;:202.4144,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.4115,&#34;y&#34;:179.9452,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.8668,&#34;y&#34;:24.4384,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:0.0482,&#34;y&#34;:81.8487,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:9.2141,&#34;y&#34;:345.3875,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:7.8475,&#34;y&#34;:121.8019,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:3.354,&#34;y&#34;:193.6285,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:7.0222,&#34;y&#34;:183.4492,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.7895,&#34;y&#34;:232.6575,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:6.3932,&#34;y&#34;:49.0869,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:1.3047,&#34;y&#34;:22.2785,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.1483,&#34;y&#34;:-88.8887,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:2.7042,&#34;y&#34;:95.5784,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:4.0159,&#34;y&#34;:202.909,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.252,&#34;y&#34;:33.9542,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:9.8439,&#34;y&#34;:329.3039,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:0.5842,&#34;y&#34;:41.6744,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:3.9461,&#34;y&#34;:11.6068,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:9.5326,&#34;y&#34;:370.8197,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:6.467,&#34;y&#34;:73.1608,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.201,&#34;y&#34;:-72.2829,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:1.448,&#34;y&#34;:-20.7592,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:0.9105,&#34;y&#34;:-79.0158,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:2.7077,&#34;y&#34;:18.6797,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.2614,&#34;y&#34;:-1.1341,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:7.0399,&#34;y&#34;:148.8288,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:4.0964,&#34;y&#34;:83.0141,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:2.4658,&#34;y&#34;:-66.0736,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:9.0087,&#34;y&#34;:275.7611,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:4.5427,&#34;y&#34;:126.8269,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.0593,&#34;y&#34;:52.5996,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:4.7805,&#34;y&#34;:-43.6612,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:6.8153,&#34;y&#34;:99.9138,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:0.8225,&#34;y&#34;:40.0916,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:8.5006,&#34;y&#34;:256.8631,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:6.822,&#34;y&#34;:148.8179,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:6.0405,&#34;y&#34;:37.2424,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:4.6458,&#34;y&#34;:153.0681,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:2.2381,&#34;y&#34;:9.4371,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.3112,&#34;y&#34;:-32.8687,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:2.3921,&#34;y&#34;:98.6136,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:6.7202,&#34;y&#34;:-26.89,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:7.272,&#34;y&#34;:191.9713,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:8.4454,&#34;y&#34;:184.0757,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.5907,&#34;y&#34;:-10.277,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.374,&#34;y&#34;:27.8721,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:7.4206,&#34;y&#34;:193.3632,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:5.0482,&#34;y&#34;:160.7977,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.6473,&#34;y&#34;:-21.2931,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:3.769,&#34;y&#34;:76.6967,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:4.838,&#34;y&#34;:-90.4866,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.6611,&#34;y&#34;:166.2326,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:3.9167,&#34;y&#34;:-63.0279,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:8.8046,&#34;y&#34;:297.0913,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.6864,&#34;y&#34;:-23.0766,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.6,&#34;y&#34;:-74.3898,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:8.0003,&#34;y&#34;:219.115,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.1233,&#34;y&#34;:-158.4159,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:2.2072,&#34;y&#34;:-178.5441,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.709,&#34;y&#34;:92.4997,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:7.6372,&#34;y&#34;:206.0712,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.1293,&#34;y&#34;:122.0398,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:3.1006,&#34;y&#34;:-47.5407,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.1671,&#34;y&#34;:136.9969,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:8.3652,&#34;y&#34;:227.0572,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:1.7955,&#34;y&#34;:29.6686,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:3.2938,&#34;y&#34;:4.58,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:1.132,&#34;y&#34;:-49.3921,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.9619,&#34;y&#34;:36.9792,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:0.1775,&#34;y&#34;:35.8571,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:2.5508,&#34;y&#34;:24.7326,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:7.5366,&#34;y&#34;:99.0566,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:1.5821,&#34;y&#34;:-49.9576,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.1233,&#34;y&#34;:-16.1116,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:4.1569,&#34;y&#34;:8.0077,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.3661,&#34;y&#34;:61.7792,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:1.7316,&#34;y&#34;:-37.9105,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:8.0785,&#34;y&#34;:215.1903,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:1.987,&#34;y&#34;:110.0966,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:0.2468,&#34;y&#34;:18.142,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:5.6588,&#34;y&#34;:92.5979,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.1851,&#34;y&#34;:-156.8985,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:2.3279,&#34;y&#34;:-48.8255,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:1.5496,&#34;y&#34;:0.7388,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:6.521,&#34;y&#34;:-45.8797,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:5.3448,&#34;y&#34;:44.9177,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:9.4676,&#34;y&#34;:303.1485,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:5.7855,&#34;y&#34;:114.6199,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.9698,&#34;y&#34;:23.1059,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:7.825,&#34;y&#34;:188.0787,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.8157,&#34;y&#34;:49.9804,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.9431,&#34;y&#34;:-129.9462,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:5.8343,&#34;y&#34;:132.7119,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:1.212,&#34;y&#34;:49.569,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:6.9683,&#34;y&#34;:44.7434,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:9.1999,&#34;y&#34;:181.3534,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:9.3903,&#34;y&#34;:263.6194,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.4728,&#34;y&#34;:-19.7022,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.5342,&#34;y&#34;:23.866,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:9.5835,&#34;y&#34;:426.0405,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:5.7049,&#34;y&#34;:198.6647,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:9.9968,&#34;y&#34;:326.2817,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.6004,&#34;y&#34;:3.8902,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:8.3767,&#34;y&#34;:124.7322,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:2.1675,&#34;y&#34;:78.4132,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.6305,&#34;y&#34;:-41.7469,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:7.6666,&#34;y&#34;:64.1009,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.3161,&#34;y&#34;:-22.006,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.7787,&#34;y&#34;:-6.9856,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:1.0169,&#34;y&#34;:8.2316,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:8.0817,&#34;y&#34;:215.2442,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:7.2595,&#34;y&#34;:120.6255,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:0.343,&#34;y&#34;:-20.2161,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:1.4735,&#34;y&#34;:-39.2857,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:3.1647,&#34;y&#34;:-56.801,&#34;group&#34;:&#34;group 1&#34;},{&#34;x&#34;:9.9907,&#34;y&#34;:434.5427,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:2.0465,&#34;y&#34;:-128.9994,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:7.8461,&#34;y&#34;:76.9516,&#34;group&#34;:&#34;group 2&#34;},{&#34;x&#34;:3.6256,&#34;y&#34;:-68.8632,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:2.7891,&#34;y&#34;:84.0773,&#34;group&#34;:&#34;group 3&#34;},{&#34;x&#34;:3.3709,&#34;y&#34;:155.153,&#34;group&#34;:&#34;group 2&#34;}];
    &lt;/script&gt;
&lt;p&gt;Now our data is inside our page’s javascript scope and ready to be played with!&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;drawing-pretty-pictures&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Drawing pretty pictures&lt;/h2&gt;
&lt;p&gt;Let’s make a super simple d3 scatter plot to see this randomly generated data. All I have to do is include my desired javascript libraries, make a &lt;code&gt;div&lt;/code&gt; element for my visualization to go into and then put my &lt;code&gt;{js}&lt;/code&gt; block in. RMarkdown will slot the javascript into the page and we’re good to go.&lt;/p&gt;
&lt;p&gt;In this example I did…&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;&amp;lt;script src=&amp;quot;https://code.jquery.com/jquery-3.1.1.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;script src=&amp;quot;https://d3js.org/d3.v4.min.js&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;

&amp;lt;div id = &amp;quot;viz&amp;quot;&amp;gt;&amp;lt;/div&amp;gt; 

` ` `{js}
//code goes here
` ` `&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;div id=&#34;did-it-work&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Did it work?&lt;/h2&gt;
&lt;script src=&#34;https://code.jquery.com/jquery-3.1.1.min.js&#34;&gt;&lt;/script&gt;
&lt;script src=&#34;https://d3js.org/d3.v4.min.js&#34;&gt;&lt;/script&gt;
&lt;div id=&#34;viz&#34;&gt;

&lt;/div&gt;
&lt;script type=&#34;text/javascript&#34;&gt;
var point_vals = d3.select(&#34;#viz&#34;)
  .append(&#34;p&#34;)
  .attr(&#34;align&#34;, &#34;center&#34;)
  .text(&#34;Mouseover some data!&#34;);

//Get how wide our page is in pixels so we can draw our plot in it
var page_width = $(&#34;#did-it-work&#34;).width();
  
// set the dimensions and margins of the graph
var margin = 20,
    width = page_width - 2*margin,
    height = page_width*0.8 - 2*margin;
    
// Find max data values
var x_extent = d3.extent(data, d =&gt; d.x);
var y_extent = d3.extent(data, d =&gt; d.y);

// Set the scales 
var x = d3.scaleLinear()
  .domain(x_extent)
  .range([0, width]);
  
var y = d3.scaleLinear()
  .domain(y_extent)
  .range([height, 0]);

//Set up our SVG element
var svg = d3.select(&#34;#viz&#34;).append(&#34;svg&#34;)
    .attr(&#34;width&#34;, width + 2*margin)
    .attr(&#34;height&#34;, height + 2*margin)
  .append(&#34;g&#34;)
    .attr(&#34;transform&#34;,
          &#34;translate(&#34; + margin + &#34;,&#34; + margin + &#34;)&#34;);

var bounce_select = d3.transition()
    .duration(1000)
    .ease(d3.easeElastic.period(0.4));
    
// Add the scatterplot
svg.selectAll(&#34;.dots&#34;)
    .data(data)
  .enter().append(&#34;circle&#34;)
    .attr(&#34;class&#34;, &#34;dots&#34;)
    .attr(&#34;fill&#34;, d =&gt; d.group === &#34;group 1&#34;? &#34;steelblue&#34;:&#34;orangered&#34;)
    .attr(&#34;fill-opacity&#34;, 0.3)
    .attr(&#34;r&#34;, 5)
    .attr(&#34;cx&#34;, d =&gt; x(d.x) )
    .attr(&#34;cy&#34;, d =&gt; y(d.y) )
    .on(&#34;mouseover&#34;, function(d){
       d3.selectAll(&#34;.dots&#34;).attr(&#34;r&#34;, 5) //make sure all the dots are small
       d3.select(this)
        .transition(bounce_select)
        .attr(&#34;r&#34;, 10);
      
       point_vals.text(&#34;X:&#34; + d.x + &#34; Y:&#34; + d.y) //change the title of the graph to the datapoint
    });
    
// Draw the axes    
// Add the X Axis
svg.append(&#34;g&#34;)
    .attr(&#34;transform&#34;, &#34;translate(0,&#34; + height + &#34;)&#34;)
    .call(d3.axisBottom(x));

// Add the Y Axis
svg.append(&#34;g&#34;)
    .call(d3.axisLeft(y));
&lt;/script&gt;
&lt;/div&gt;
&lt;div id=&#34;why-when&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Why/ When&lt;/h2&gt;
&lt;p&gt;This is a bad example of a visualization for this scenario as something like plotly could do this in much less effort. If you’re doing something more complicated/ bespoke then this is a great resource to have.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;addendum&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Addendum&lt;/h2&gt;
&lt;p&gt;If you’re interested, here’s the javascript code I included to make the above graph.&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;var point_vals = d3.select(&amp;quot;#viz&amp;quot;).append(&amp;quot;p&amp;quot;).text(&amp;quot;Mouseover some data!&amp;quot;);

//Get how wide our page is in pixels so we can draw our plot in it
var page_width = $(&amp;quot;#did-it-work&amp;quot;).width();
  
// set the dimensions and margins of the graph
var margin = 20,
    width = page_width - 2*margin,
    height = page_width*0.8 - 2*margin;
    
// Find max data values
var x_extent = d3.extent(data, d =&amp;gt; d.x);
var y_extent = d3.extent(data, d =&amp;gt; d.y);

// Set the scales 
var x = d3.scaleLinear()
  .domain(x_extent)
  .range([0, width]);
  
var y = d3.scaleLinear()
  .domain(y_extent)
  .range([height, 0]);

//Set up our SVG element
var svg = d3.select(&amp;quot;#viz&amp;quot;).append(&amp;quot;svg&amp;quot;)
    .attr(&amp;quot;width&amp;quot;, width + 2*margin)
    .attr(&amp;quot;height&amp;quot;, height + 2*margin)
  .append(&amp;quot;g&amp;quot;)
    .attr(&amp;quot;transform&amp;quot;,
          &amp;quot;translate(&amp;quot; + margin + &amp;quot;,&amp;quot; + margin + &amp;quot;)&amp;quot;);

var bounce_select = d3.transition()
    .duration(1000)
    .ease(d3.easeElastic.period(0.4));
    
// Add the scatterplot
svg.selectAll(&amp;quot;.dots&amp;quot;)
    .data(data)
  .enter().append(&amp;quot;circle&amp;quot;)
    .attr(&amp;quot;class&amp;quot;, &amp;quot;dots&amp;quot;)
    .attr(&amp;quot;fill&amp;quot;, d =&amp;gt; d.group === &amp;quot;group 1&amp;quot;? &amp;quot;steelblue&amp;quot;:&amp;quot;orangered&amp;quot;)
    .attr(&amp;quot;fill-opacity&amp;quot;, 0.3)
    .attr(&amp;quot;r&amp;quot;, 5)
    .attr(&amp;quot;cx&amp;quot;, d =&amp;gt; x(d.x) )
    .attr(&amp;quot;cy&amp;quot;, d =&amp;gt; y(d.y) )
    .on(&amp;quot;mouseover&amp;quot;, function(d){
       d3.selectAll(&amp;quot;.dots&amp;quot;).attr(&amp;quot;r&amp;quot;, 5) //make sure all the dots are small
       d3.select(this)
        .transition(bounce_select)
        .attr(&amp;quot;r&amp;quot;, 10);
      
       point_vals.text(&amp;quot;X:&amp;quot; + d.x + &amp;quot; Y:&amp;quot; + d.y) //change the title of the graph to the datapoint
    });
    
// Draw the axes    
// Add the X Axis
svg.append(&amp;quot;g&amp;quot;)
    .attr(&amp;quot;transform&amp;quot;, &amp;quot;translate(0,&amp;quot; + height + &amp;quot;)&amp;quot;)
    .call(d3.axisBottom(x));

// Add the Y Axis
svg.append(&amp;quot;g&amp;quot;)
    .call(d3.axisLeft(y));&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;



&lt;!-- BLOGDOWN-HEAD






/BLOGDOWN-HEAD --&gt;
</description>
    </item>
    
    <item>
      <title>Regression modeling strategies: a student&#39;s perspective</title>
      <link>/2017/01/17/regression-modeling-strategies-a-students-perspective/</link>
      <pubDate>Tue, 17 Jan 2017 22:15:13 -0600</pubDate>
      
      <guid>/2017/01/17/regression-modeling-strategies-a-students-perspective/</guid>
      <description>&lt;!-- BLOGDOWN-BODY-BEFORE

/BLOGDOWN-BODY-BEFORE --&gt;

&lt;p&gt;Frank Harrell teaches an amazing course “Regression Modeling Strategies” based on his &lt;a href=&#34;https://www.amazon.com/Regression-Modeling-Strategies-Applications-Statistics/dp/3319194240/ref=sr_1_1?ie=UTF8&amp;amp;qid=1484713166&amp;amp;sr=8-1&amp;amp;keywords=regression+modeling+strategies&#34;&gt;book&lt;/a&gt; each spring at Vanderbilt.&lt;/p&gt;
&lt;p&gt;This was one of my all time favorite courses. It has just the right amount of practical strategies, brilliant statistical insight, and zealous disdain for all things stepwise regression. In fact, Frank’s valiant fight against dichotomization inspired the name of this very blog.&lt;/p&gt;
&lt;p&gt;This semester, Nick is enrolled in the course, and I will be TAing it, so we thought it would be a perfect time to do what all good 21st century students do, blog about it. We will be using the #rms tag to thread the series to make it easy to follow along.&lt;/p&gt;
&lt;p&gt;To kick things off, I encourage everyone to get a flavor of our beloved professor’s style by trying out the following &lt;code&gt;R&lt;/code&gt; code:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;library(&amp;quot;fortunes&amp;quot;)
fortune(&amp;quot;Harrell&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;Here is one of my personal favorites:&lt;/p&gt;
&lt;pre&gt;&lt;code&gt;## Warning: package &amp;#39;fortunes&amp;#39; was built under R version 3.3.2&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## 
## The fact that some people murder doesn&amp;#39;t mean we should copy them. And
## murdering data, though not as serious, should also be avoided.
##    -- Frank E. Harrell (answering a question on categorization of
##       continuous variables in survival modelling)
##       R-help (July 2005)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;We have been planning on kicking this series off for a while, but it happens to serendipitously coincide with Frank jumping online via &lt;a href=&#34;www.twitter.com/f2harrell&#34;&gt;twitter&lt;/a&gt; and a &lt;a href=&#34;http://www.fharrell.com&#34;&gt;blog&lt;/a&gt;! We are so excited to see how this goes.&lt;/p&gt;



&lt;!-- BLOGDOWN-HEAD






/BLOGDOWN-HEAD --&gt;
</description>
    </item>
    
    <item>
      <title>Wait, What are P-values?</title>
      <link>/2016/12/24/wait-what-are-p-values/</link>
      <pubDate>Sat, 24 Dec 2016 15:50:12 -0600</pubDate>
      
      <guid>/2016/12/24/wait-what-are-p-values/</guid>
      <description>&lt;!-- BLOGDOWN-BODY-BEFORE

/BLOGDOWN-BODY-BEFORE --&gt;

&lt;p&gt;Frequently, and especially &lt;a href=&#34;http://www.nytimes.com/2016/11/09/podcasts/election-analysis-run-up.html&#34;&gt;recently&lt;/a&gt;, misunderstandings of common statistical terms/ concepts have caused confusion and even &lt;a href=&#34;http://www.theverge.com/2016/11/8/13571216/new-york-times-election-forecast-jitter-needle&#34;&gt;anger&lt;/a&gt;. I would like to (attempt) to clear up a big player in the world of commonly used (and commonly misunderstood) statistical concepts: the &lt;strong&gt;&lt;em&gt;p&lt;/em&gt;-value&lt;/strong&gt;.&lt;/p&gt;
&lt;p style=&#34;font-size: 7; font-style:italic&#34;&gt;
&lt;a href = &#34;http://imgs.xkcd.com/comics/p_values.png&#34;&gt; &lt;img style=&#34;width:40%&#34; src=&#34;http://imgs.xkcd.com/comics/p_values.png&#34; align=&#34;middle&#34;&gt; &lt;/a&gt; &lt;/br&gt; Stealing &lt;a href = &#34;https://twitter.com/LucyStats&#34;&gt;Lucy D’Agostino McGowan’s&lt;/a&gt; &lt;a href = &#34;http://xkcd.com&#34;&gt;XKCD&lt;/a&gt; embedding strategy.
&lt;/p&gt;
&lt;div id=&#34;tl-dr&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;TL DR&lt;/h2&gt;
&lt;p&gt;A &lt;em&gt;p&lt;/em&gt;-value is not a probability of the true parameter being something, but the percentage of times that the data you saw, or more extreme data, would occur given some “null” model. These are subtly, but importantly, different concepts.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;setup&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Setup:&lt;/h2&gt;
&lt;p&gt;We will illustrate this concept with a story.&lt;/p&gt;
&lt;p&gt;Say you are a cheating detection analyst at a casino. One day one of the casino’s employees comes up to you and tells you that there potentially are unfair coins being used in the casino (they seem to land on tails more frequently). It’s your job to figure out if they are fair or not. The employee hands you a piece of paper with something written on it and then runs away to attend to more important things than statistics. The paper says the following:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Heads = &lt;span class=&#34;math inline&#34;&gt;\(h\)&lt;/span&gt;, Tails = &lt;span class=&#34;math inline&#34;&gt;\(t\)&lt;/span&gt; | &lt;span class=&#34;math inline&#34;&gt;\(t,t,h,t,t,h\)&lt;/span&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;After staring at this paper for a few minutes, you decide what you have is data on which face of a coin landed upright on a given flip, for a total of 6 flips. A fair coin in your opinion is one that has the same chance of falling on heads as it does tails, or 50-50. This is your &lt;strong&gt;null hypothesis: &lt;span class=&#34;math inline&#34;&gt;\(P(\text{tails}) = 0.5\)&lt;/span&gt;&lt;/strong&gt;. The employee said they thought the coins were biased towards tails, you want to test if they are, this is your &lt;strong&gt;alternative hypothesis: &lt;span class=&#34;math inline&#34;&gt;\(P(\text{tails}) &amp;gt; 0.5\)&lt;/span&gt;&lt;/strong&gt;. Your job as a statistician is to take this incredibly complex data and distill it to a single decision, the coin is fair (null), or the coin is biased towards tails (alternative).&lt;/p&gt;
&lt;p style=&#34;font-size: 4; font-style:italic&#34;&gt;
&lt;img  style=&#34;width:60%&#34;  src=&#34;http://i.onionstatic.com/avclub/5621/63/animated/original.gif&#34; align=&#34;middle&#34;&gt; &lt;/br&gt; &lt;a href = &#34;http://i.onionstatic.com/avclub/5621/63/animated/original.gif&#34;&gt;Fox Sports&lt;/a&gt;.
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;procedure&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Procedure&lt;/h2&gt;
&lt;p&gt;You have a problem: you don’t even know how to find an unfair coin (or how unfair of a coin to find). You do, however, have a normal quarter in your back pocket (that you’re sure is fair). You decide that instead of getting up and finding a tail-biased coin, you can use your quarter to test if the data you have is &lt;em&gt;not&lt;/em&gt; from a fair coin. (You also enjoy injecting negatives into your statements to obfuscate your point as much as possible.)&lt;/p&gt;
&lt;p&gt;You roll over to your coin flipping table, get out your laptop and flip your quarter 6 times.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#Write down coin flip results
flip_data &amp;lt;-  data_frame(flip = c(&amp;quot;tails&amp;quot;, &amp;quot;tails&amp;quot;, &amp;quot;heads&amp;quot;, &amp;quot;heads&amp;quot;, &amp;quot;tails&amp;quot;, &amp;quot;tails&amp;quot;))

#Plot the coin flips. 
#Code for plot_flips() is at the end of this document (it&amp;#39;s ugly)
flip_data %&amp;gt;% plot_flips()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;#####../content/post/2016-12-24-wait-what-are-p-values_files/figure-html/unnamed-chunk-1-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Okay, so we got &lt;strong&gt;2&lt;/strong&gt; heads on our &lt;strong&gt;6&lt;/strong&gt; flips. Obviously the data given to us is from an unfair coin. You’re a good &lt;a href=&#34;https://en.wikipedia.org/wiki/Frequentist_inference&#34;&gt;frequentist&lt;/a&gt; however, so you decide that, to be safe, you should repeat the experiment again to see what you get.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Oh no, you dropped your coin, better use R instead.&lt;/em&gt;&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#Function to flip our coin 6 times
flip_coin &amp;lt;- function(numberOfCoins = 6, probHeads = 0.5){
  heads &amp;lt;- runif(numberOfCoins) &amp;gt; probHeads
  return(data_frame(flip = ifelse(heads, &amp;quot;heads&amp;quot;, &amp;quot;tails&amp;quot;)))
}

#flip our virtual coin 6 times
second_flip &amp;lt;- flip_coin()

#plot it
second_flip %&amp;gt;% plot_flips()&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;#####../content/post/2016-12-24-wait-what-are-p-values_files/figure-html/unnamed-chunk-2-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Oh look at that… 2 heads… that’s nice, but maybe we should do this a few more times. Maybe 100?&lt;/p&gt;
&lt;p&gt;Back to R…&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#Dataframe to hold our coin flips
flip_results &amp;lt;- data_frame(flip = character(), trial = numeric())

#Number of trials of flipping our coin 6 times we want to do. 
number_of_trials &amp;lt;- 100

#Actually run the trials 
for(trial_number in 1:number_of_trials){
  
  #Flip Coin 6 times and record results along with trial number
  flips &amp;lt;- flip_coin() %&amp;gt;%
    mutate(trial = trial_number)
  
  #Append this to our big results dataframe
  flip_results &amp;lt;- flip_results %&amp;gt;% bind_rows(flips)
}

#Let&amp;#39;s plot all of these results into one big mega-graph
flip_results %&amp;gt;% 
  plot_flips() + 
  facet_wrap(~trial) + #make a new mini plot for each trial
  labs(title = &amp;quot;Six Coin Flips | 100 Trials&amp;quot;)&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;#####../content/post/2016-12-24-wait-what-are-p-values_files/figure-html/unnamed-chunk-3-1.png&#34; width=&#34;960&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;Well look at that, investigating this plot it doesn’t actually seem that out of the ordinary to get 4 tails in 6 flips, even though intuitively that sounds like tails happening twice as often as heads.&lt;/p&gt;
&lt;p&gt;Just to make sure lets simplify the above plot to summarize the number of tails we saw for each of our 100 trials.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;#Count how many tails we got in each trial
tails_by_trial &amp;lt;- flip_results %&amp;gt;%   #Take our results
  filter(flip == &amp;quot;tails&amp;quot;) %&amp;gt;%        #Look at only tails results
  group_by(trial) %&amp;gt;%                #Collapse per trial
  summarise(number_of_tails = n())   #Count the number of heads per trial

#Look at the first few of our results....
tails_by_trial %&amp;gt;% 
  head() %&amp;gt;% 
  kable(align = c(&amp;quot;r&amp;quot;, &amp;quot;c&amp;quot;))&lt;/code&gt;&lt;/pre&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&#34;header&#34;&gt;
&lt;th align=&#34;right&#34;&gt;trial&lt;/th&gt;
&lt;th align=&#34;center&#34;&gt;number_of_tails&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;1&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;2&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;3&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;4&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;odd&#34;&gt;
&lt;td align=&#34;right&#34;&gt;5&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&#34;even&#34;&gt;
&lt;td align=&#34;right&#34;&gt;6&lt;/td&gt;
&lt;td align=&#34;center&#34;&gt;3&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Looking at the first few results we can see that we have a range of tails counts, looking at tables is boring though. Let’s plot our data to really see what’s going on.&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;tails_by_trial %&amp;gt;%
  mutate(`bias to tails` = ifelse(number_of_tails &amp;gt;= 4, &amp;quot;equal or more &amp;quot;, &amp;quot;less than observed data&amp;quot;)) %&amp;gt;% 
  ggplot(aes(x = number_of_tails, fill = `bias to tails`)) + 
  geom_bar() + 
  labs(title = &amp;quot;Number of Tails Seen in 6 Flips&amp;quot;, 
       subtitle = &amp;quot;100 Trials&amp;quot;, x = &amp;quot;# of tails&amp;quot;, y = &amp;quot;times seen&amp;quot;) + 
  scale_x_continuous(breaks = 0:6) +               #Beyond here is unneccesary ggplot style stuff. 
  theme_minimal() +                                #I like pretty graphs
  theme(panel.grid.major.x = element_blank(),
        panel.grid.major.y = element_line( size=.1, color=&amp;quot;black&amp;quot; ),
        panel.grid.minor = element_blank(),
        legend.position = &amp;quot;top&amp;quot;) + 
  scale_fill_discrete(guide = guide_legend(reverse=T))&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;&lt;img src=&#34;#####../content/post/2016-12-24-wait-what-are-p-values_files/figure-html/unnamed-chunk-5-1.png&#34; width=&#34;672&#34; style=&#34;display: block; margin: auto;&#34; /&gt;&lt;/p&gt;
&lt;p&gt;The data we have: &lt;strong&gt;4&lt;/strong&gt; tails out of &lt;strong&gt;6&lt;/strong&gt; flips, looks pretty darn normal if our coin was fair. Case closed, right? Well you are a statistician so it’s your job to distill this down to a number, so let’s see exactly how “normal” our result is. We will do this by simply counting. Looking at the 100 trials that we did, how many times did the number of tails look at least as unfair as our data? Aka, how many times did we flip 4 or more tails in our 100 trials?&lt;/p&gt;
&lt;pre class=&#34;r&#34;&gt;&lt;code&gt;unusualness &amp;lt;- sum(tails_by_trial$number_of_tails &amp;gt;= 4) 
unusualness&lt;/code&gt;&lt;/pre&gt;
&lt;pre&gt;&lt;code&gt;## [1] 31&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;So, we have just shown that, given the coin is truly fair, in 100 trials we saw 31 of them to be as “biased” towards tails as the data we were given. &lt;span class=&#34;math display&#34;&gt;\[\frac{31}{100} = 0.31= \boxed{\text{our p-value}}\]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;Note that this is not “the probability that our coin is not fair”, it is simply, “given the coin &lt;em&gt;was fair&lt;/em&gt;, how odd are our results?”&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Note: This is not actually how most p-value are calculated. This is because when lots of this p-value stuff was developed we didn’t have computers around to do our coin-flipping-bidding so smart people come up with mathematical formulas that describe the behavior, thus allowing p-values to be calculated with pen and paper. These formulas are also more accurate than what we did in that they mimic flipping the coin an infinite amount of times.&lt;/em&gt;&lt;/p&gt;
&lt;p style=&#34;font-size: 4; font-style:italic&#34;&gt;
&lt;img  style=&#34;width:60%&#34; src=&#34;http://starecat.com/content/wp-content/uploads/dog-calculating-how-to-carry-a-stick-on-a-bridge.gif&#34; align=&#34;middle&#34;&gt; &lt;/br&gt; Me trying to understand p-values for the first time: &lt;a href = &#34;http://starecat.com/content/wp-content/uploads/dog-calculating-how-to-carry-a-stick-on-a-bridge.gif&#34;&gt;starecat.com&lt;/a&gt;.
&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;the-caveat&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;The Caveat&lt;/h2&gt;
&lt;p&gt;But wait, you can’t leave just yet. We made one very important assumption in constructing this &lt;em&gt;p&lt;/em&gt;-value. We assumed the “model” that our data came from. In this case we assumed that the “heads” and “tails” written on the page were from a single coin, flipped 6 times with two possible results (“heads” or “tails”). What if it wasn’t the case? What if in fact our data came from a mysterious 3 sided coin (all coins technically are). Then our p-value is totally wrong.&lt;/p&gt;
&lt;p&gt;Something to always be aware of when looking at statistical results is that, to quote statistician George Box,&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;All models are wrong, but some are useful.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Almost never in real life are the &lt;em&gt;p&lt;/em&gt;-values you see in the newspaper or a scientific journal article using the perfectly correct model. Lots of work has been done to make sure that we’re not making huge mistakes (or else statisticians like me would be out of a job), but very rarely (even in the example just given) are we using the correct model to generate our &lt;em&gt;p&lt;/em&gt;-value.&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;addendum&#34; class=&#34;section level2&#34;&gt;
&lt;h2&gt;Addendum&lt;/h2&gt;
&lt;p&gt;I most likely made some mistakes somewhere in this article. If you catch them and feel them important enough to be fixed send me a message on twitter or if you are feeling particularly altruistic, submit a pull request on the repo for this article&lt;/p&gt;
&lt;p&gt;Here is the plotting code I used for the head tails plots. It’s kind of ugly and I’m sure there’s a more elegant way to code it.&lt;/p&gt;
&lt;pre class=&#34;eval&#34;&gt;&lt;code&gt;#Function for plotting coin flips. 
#Takes a dataframe with at least the column &amp;quot;flip&amp;quot; containing heads or tails in character value
plot_flips &amp;lt;- function(flip_data){
  flip_data %&amp;gt;% 
    mutate(value = 1, flip_num = 1:dim(flip_data)[1]) %&amp;gt;% 
    ggplot(aes(x = flip, y = value, group = flip_num, fill = flip)) +
    geom_bar(position = &amp;quot;stack&amp;quot;, stat = &amp;quot;identity&amp;quot;, color = &amp;quot;white&amp;quot;) +
    labs(x = &amp;quot;&amp;quot;, y = &amp;quot;times seen&amp;quot;, title = &amp;quot;Six Coin Flips&amp;quot;) +
    theme_minimal() + 
    theme(panel.grid.major = element_blank(),
          panel.grid.minor = element_blank(),
          strip.background = element_blank(),
          strip.text = element_blank(),
          axis.title = element_blank(),
          axis.text = element_blank(),
          axis.ticks = element_blank(),
          legend.position = &amp;quot;bottom&amp;quot;,
          legend.title = element_blank()) 
}&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;


&lt;!-- dynamically load mathjax for compatibility with self-contained --&gt;
&lt;script&gt;
  (function () {
    var script = document.createElement(&#34;script&#34;);
    script.type = &#34;text/javascript&#34;;
    script.src  = &#34;https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML&#34;;
    if (location.protocol !== &#34;file:&#34; &amp;&amp; /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, &#39;&#39;);
    document.getElementsByTagName(&#34;head&#34;)[0].appendChild(script);
  })();
&lt;/script&gt;

&lt;!-- BLOGDOWN-HEAD






/BLOGDOWN-HEAD --&gt;
</description>
    </item>
    
    <item>
      <title>Hill for the data scientist: an xkcd story</title>
      <link>/2016/12/15/hill-for-the-data-scientist-an-xkcd-story/</link>
      <pubDate>Thu, 15 Dec 2016 15:41:30 -0600</pubDate>
      
      <guid>/2016/12/15/hill-for-the-data-scientist-an-xkcd-story/</guid>
      <description>&lt;!-- BLOGDOWN-BODY-BEFORE

/BLOGDOWN-BODY-BEFORE --&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;em&gt;This was inspired by Hilary Parker &amp;amp; Roger Peng’s Not So Standard Deviations Episode 28, which can be found &lt;a href=&#34;https://soundcloud.com/nssd-podcast/episode-28-writing-is-a-lot-harder-than-just-talking&#34;&gt;here&lt;/a&gt;. It was suggested that it would be useful to lay out Hill’s criterion for data scientists, I agree!&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;&lt;span style=&#34;color:#EB6864; font-size: 20pt&#34;&gt;[&lt;strong&gt;causation&lt;/strong&gt;: An event or outcome B is influenced by a change in A]&lt;/span&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt; Sir Austin Bradford Hill, a statistician and epidemiologist, created a list of guidelines for evaluating whether there is evidence of a causal relationship.[1] He determined the following aspects of associations ought to be considered when assessing causality. When thinking about this problem, an &lt;a href=&#34;https://xkcd.com/&#34;&gt;xkcd&lt;/a&gt; comic I have seen in &lt;em&gt;every lecture&lt;/em&gt; on this topic came to mind:&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;http://xkcd.com/552/&#34; target=&#34;_blank&#34;&gt; &lt;img src=&#34;http://imgs.xkcd.com/comics/correlation.png&#34; alt=&#34;correlation&#34;&gt; &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;p&gt;This inspired me to attempt to explain Hill’s criteria using xkcd comics, both because it seemed fun, and also to motivate causal inference instructures to have some variety in which xkcd comic they include in lectures (bear with me, some of these are a stretch 🙈💁🏻).&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;div id=&#34;strength&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Strength&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;How big is the effect you are seeing?&lt;/li&gt;
&lt;li&gt;Note: Hill suggests that huge effects &lt;em&gt;can&lt;/em&gt; suggest causality, however this does not mean small effects &lt;em&gt;cannot&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://xkcd.com/1592/&#34; target=&#34;_blank&#34;&gt; &lt;img src=&#34;http://imgs.xkcd.com/comics/overthinking.png&#34; alt=&#34;strength&#34;&gt; &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;consistency&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Consistency&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;This is essentially &lt;a href=&#34;http://kbroman.org/steps2rr/&#34;&gt;reproducibility&lt;/a&gt; &amp;amp; replicability&lt;/li&gt;
&lt;li&gt;Can your analysis be reproduced?&lt;/li&gt;
&lt;li&gt;Has anyone been able to replicate your findings?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://xkcd.com/242/&#34; target=&#34;_blank&#34;&gt; &lt;img src=&#34;http://imgs.xkcd.com/comics/the_difference.png&#34; alt=&#34;consistency&#34;&gt; &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;specificity&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Specificity&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Can the association be pinpointed to a specific cause with no other plausible explanation?&lt;/li&gt;
&lt;li&gt;I appreciate Hill’s caveat here, &lt;em&gt;“if specificity exists we may be able to draw conclusions without hesitation; if it is not apparent, we are not thereby necessarily left sitting irresolutely on the fence.”&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://xkcd.com/1217/&#34; target=&#34;_blank&#34;&gt; &lt;img src=&#34;http://imgs.xkcd.com/comics/cells.png&#34; alt=&#34;specificity&#34;&gt; &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;temporality&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Temporality&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Does the timeline make sense?&lt;/li&gt;
&lt;li&gt;In general, the exposure ought to come before the outcome it is said to cause.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://xkcd.com/925/&#34; target=&#34;_blank&#34;&gt; &lt;img src=&#34;http://imgs.xkcd.com/comics/cell_phones.png&#34; alt=&#34;temporality&#34;&gt; &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;biological-gradient&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Biological gradient&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;The wording of this point makes it a bit difficult to untangle from the medical application, but generally this refers to a dose effect&lt;/li&gt;
&lt;li&gt;Does increasing an exposure yield a change in the outcome.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://xkcd.com/323/&#34; target=&#34;_blank&#34;&gt; &lt;img src=&#34;http://imgs.xkcd.com/comics/ballmer_peak.png&#34; alt=&#34;biological-gradient&#34;&gt; &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;plausibility&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Plausibility&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Does the causal relationship make sense?&lt;/li&gt;
&lt;li&gt;&lt;em&gt;This is also a tricky one since plausibility depends on knowledge at the time. If we found it perfectly plausible, we may not need statistics to show the relationship.&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://xkcd.com/605/&#34; target=&#34;_blank&#34;&gt; &lt;img src=&#34;http://imgs.xkcd.com/comics/extrapolating.png&#34; alt=&#34;plausibility&#34;&gt; &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;coherence&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Coherence&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Similar to plausibility, is there a logical argument that can be made by/to experts in the field regarding causality.&lt;/li&gt;
&lt;li&gt;Does it fit into the understanding of the field (&lt;em&gt;authors note&lt;/em&gt;: this should have caveats too…the field could be wrong).&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://xkcd.com/1170/&#34; target=&#34;_blank&#34;&gt; &lt;img src=&#34;http://imgs.xkcd.com/comics/bridge.png&#34; alt=&#34;coherence&#34;&gt; &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;experiment&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Experiment&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;If a controlled experiment can take place, this can strengthen the argument for causality&lt;/li&gt;
&lt;li&gt;I view this as a general attempt to implement a counterfactual analysis.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://xkcd.com/1462/&#34; target=&#34;_blank&#34;&gt; &lt;img src=&#34;http://imgs.xkcd.com/comics/blind_trials.png&#34; alt=&#34;experiment&#34;&gt; &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;br&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div id=&#34;analogy&#34; class=&#34;section level3&#34;&gt;
&lt;h3&gt;Analogy&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;Have we seen a similar effect from a similar exposure?&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href=&#34;http://xkcd.com/882/&#34; target=&#34;_blank&#34;&gt; &lt;img src=&#34;http://imgs.xkcd.com/comics/significant.png&#34; alt=&#34;analogy&#34;&gt; &lt;/a&gt;&lt;/p&gt;
&lt;p&gt;[1] Hill, A. B. (1965). The Environment and Disease: Association or Causation? Proceedings of the Royal Society of Medicine, 58(5), 295–300.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Think I’ve missed something? Submit a &lt;a href=&#34;https://github.com/LucyMcGowan/lucymcgowan.github.io/pulls&#34;&gt;PR&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;



&lt;!-- BLOGDOWN-HEAD






/BLOGDOWN-HEAD --&gt;
</description>
    </item>
    
    <item>
      <title>About</title>
      <link>/about/</link>
      <pubDate>Thu, 05 May 2016 21:48:51 -0700</pubDate>
      
      <guid>/about/</guid>
      <description>&lt;p&gt;We are Lucy and Nick, we have things to say and we think people should be tricked into reading them, thus we created this blog.&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>